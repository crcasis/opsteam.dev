{"version":3,"file":"index.js","sourceRoot":"","sources":["../src/index.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AACA,iCAWe;AAEf,IAAI,OAAO,QAAQ,KAAK,WAAW,EAAE;IACnC,kDAAO,uBAAuB,IAAE;CACjC;AAeY,QAAA,mBAAmB,GAAiC,IAAA,kBAAU,EACzE,CACE,EACE,QAAQ,EACR,OAAO,EACP,KAAK,EACL,SAAS,EACT,GAAG,KAAK,EACoC,EAC9C,GAAiD,EACjD,EAAE;IACF,MAAM,SAAS,GAAG,IAAA,cAAM,GAAkC,CAAC;IAC3D,IAAA,iBAAS,EAAC,GAAG,EAAE;QACb,IAAI,KAAK,KAAK,SAAS,EAAE;YACvB,SAAS,CAAC,OAAO,CAAC,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,CAAC;SACxD;IACH,CAAC,EAAE,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC,CAAC;IAEvB,IAAA,iBAAS,EAAC,GAAG,EAAE;QACb,IAAI,OAAO,EAAE;YACX,aAAa;YACb,SAAS,CAAC,OAAO,CAAC,gBAAgB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;SACtD;IACH,CAAC,EAAE,EAAE,CAAC,CAAC;IAEP,IAAA,2BAAmB,EAAC,GAAG,EAAE,GAAG,EAAE,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC;IAE/D,OAAO,IAAA,qBAAa,EAClB,uBAAuB,EACvB,MAAM,CAAC,MAAM,CACX;QACE,KAAK,EAAE,SAAS,CAAC,CAAC,CAAC,GAAG,SAAS,WAAW,CAAC,CAAC,CAAC,UAAU;QACvD,sDAAsD;QACtD,kCAAkC;QAClC,gEAAgE;QAChE,QAAQ,EAAE,CAAC;QACX,GAAG,EAAE,SAAS;KACf,EACD,KAAK,CACN,EACD,QAAQ,CACT,CAAC;AACJ,CAAC,CACF,CAAC","sourcesContent":["import { type HTMLImgComparisonSliderElement } from 'img-comparison-slider';\nimport {\n  FC,\n  AllHTMLAttributes,\n  PropsWithChildren,\n  ChangeEventHandler,\n  forwardRef,\n  ForwardedRef,\n  useRef,\n  useEffect,\n  useImperativeHandle,\n  createElement,\n} from 'react';\n\nif (typeof document !== 'undefined') {\n  import('img-comparison-slider');\n}\n\ntype ImgComparisonSliderProps =\n  AllHTMLAttributes<HTMLImgComparisonSliderElement> & {\n    value?: number | string;\n    handle?: boolean;\n    hover?: boolean;\n    direction?: string;\n    keyboard?: 'enabled' | 'disabled';\n    onSlide?: ChangeEventHandler<HTMLImgComparisonSliderElement>;\n    ref?: ForwardedRef<HTMLImgComparisonSliderElement>;\n  };\n\nexport { HTMLImgComparisonSliderElement };\n\nexport const ImgComparisonSlider: FC<ImgComparisonSliderProps> = forwardRef(\n  (\n    {\n      children,\n      onSlide,\n      value,\n      className,\n      ...props\n    }: PropsWithChildren<ImgComparisonSliderProps>,\n    ref: ForwardedRef<HTMLImgComparisonSliderElement>\n  ) => {\n    const sliderRef = useRef<HTMLImgComparisonSliderElement>();\n    useEffect(() => {\n      if (value !== undefined) {\n        sliderRef.current.value = parseFloat(value.toString());\n      }\n    }, [value, sliderRef]);\n\n    useEffect(() => {\n      if (onSlide) {\n        // @ts-ignore\n        sliderRef.current.addEventListener('slide', onSlide);\n      }\n    }, []);\n\n    useImperativeHandle(ref, () => sliderRef.current, [sliderRef]);\n\n    return createElement(\n      'img-comparison-slider',\n      Object.assign(\n        {\n          class: className ? `${className} rendered` : 'rendered',\n          // Align tabIndex between the web and React components\n          // this code could be removed when\n          // https://github.com/WICG/webcomponents/issues/762 is resolved.\n          tabIndex: 0,\n          ref: sliderRef,\n        },\n        props\n      ),\n      children\n    );\n  }\n);\n"]}